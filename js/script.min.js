(()=>{"use strict";var e={712:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(40);function s(e,t){const n=`\n    <div class="modal modal--with_alert">\n      <div class="modal__inner">\n        <button class="modal__close-button" type="button">\n          <span class="visually-hidden">Закрыть</span>\n        </button>\n        <section class="alert modal__alert ${"error"===t.status?"alert--error":""}">\n          <h2 class="alert__heading heading heading--size_s">${t.heading}</h2>\n          ${t.text?`<p class="alert__text">${t.text}</p>`:""}\n          <button class="button alert__button button--secondary" type="button">${t.buttonText||"Закрыть"}</button>\n        </section>\n      </div>\n    </div>\n  `,s=(0,r.GW)(n);document.body.append(s),e(s)}},112:(e,t,n)=>{async function r(e,t,n,r,s){try{const r=await fetch(e,{method:"POST",body:t});if(!r.ok)throw new Error(`${r.status} – ${r.statusText}`);n()}catch(e){r()}finally{s()}}n.d(t,{_:()=>r})},728:(e,t,n)=>{n.d(t,{A:()=>r});const r=Object.freeze({ESCAPE:"Escape",BACKSPACE:"Backspace"})},104:(e,t,n)=>{var r=n(659),s=n(192),a=n(331),o=n(88),i=n(712),d=n(112),c=n(292),l=n(912);const u=document.querySelector(".site-header"),m=document.querySelector(".site-footer__navigation"),_=document.querySelector('[data-modal="request"]');(0,r.W)(u,s.C),(0,s.C)(m,u),(0,o.E)(_,l.G,c.K,d._,a.y,a.w,i._),document.querySelectorAll(".request-form:not(.request-form--modal)").forEach((e=>{(0,l.G)(e,c.K,d._,a.y,i._)}))},331:(e,t,n)=>{n.d(t,{w:()=>i,y:()=>o});var r=n(40);const s=300,a=[];function o(e){e.classList.remove("modal--hidden"),a.push(e),document.addEventListener("keydown",d),document.addEventListener("click",c),setTimeout((()=>{e.classList.add("modal--open")}),0)}function i(e){e.classList.remove("modal--open"),a.pop(),a.length||(document.removeEventListener("keydown",d),document.removeEventListener("click",c)),setTimeout((()=>{e.classList.add("modal--hidden"),e.classList.contains("modal--with_alert")&&e.remove()}),s)}function d(e){(0,r.YT)(e)&&(e.preventDefault(),i(a[a.length-1]))}function c({target:e}){(e.classList.contains("modal")||e.classList.contains("modal__close-button")||e.classList.contains("alert__button"))&&i(a[a.length-1])}},192:(e,t,n)=>{function r(e,t,n){const r=document.querySelector(".page__inner"),s=Array.from(r.querySelectorAll("[data-menu-link-target]"));e.addEventListener("click",(e=>{if(e.target.matches(".site-header__menu-link, .site-footer__navigation-link")){e.preventDefault();const a=e.target.hash.slice(1),o=s.find((e=>e.id===a));if(!a||!o)return;n&&n(),setTimeout((()=>{r.scrollTo({top:o.offsetTop-t.offsetHeight,behavior:"smooth"})}),100)}}))}n.d(t,{C:()=>r})},912:(e,t,n)=>{function r(e,t,n,r,s,a=(()=>{})){const o=e.querySelector(".request-form__submit-button"),i=e.querySelector(".request-form__item--name .text-field__control"),d=e.querySelector(".request-form__item--tel .text-field__control");t(e.querySelector(".request-form__item--tel .text-field__control")),i.setAttribute("data-pristine-pattern","/^[a-zа-яЁё -]+$/i"),i.dataset.pristineRequiredMessage="Заполните это поле.",i.dataset.pristinePatternMessage="Допустимы только буквы, дефисы и пробелы.",d.dataset.pristineRequiredMessage="Заполните это поле.",d.dataset.pristineEmailMessage="Введите корректный номер телефона.";const c=e.getAttribute("action"),l=new Pristine(e,{classTo:"request-form__item",errorClass:"invalid",errorTextParent:"request-form__item",errorTextTag:"p",errorTextClass:"prompt-text"});return e.addEventListener("submit",(t=>{t.preventDefault(),l.validate()?(o.disabled=!0,o.classList.add("button--pending"),n(c,new FormData(t.target),(()=>{a(),s(r,{heading:"Заявка оставлена",text:"Спасибо! Данные успешно отправлены."}),e.reset()}),(()=>{s(r,{status:"error",heading:"❌ Не удалось оставить заявку",text:"Проверьте подключение к интернету и попробуйте снова."})}),(()=>{o.disabled=!1,o.classList.remove("button--pending")}))):(e.classList.remove("shake"),setTimeout((()=>e.classList.add("shake")),50))})),l}n.d(t,{G:()=>r})},88:(e,t,n)=>{function r(e,t,n,r,s,a,o){const i=e.querySelector(".request-form"),d=t(i,n,r,s,o,(()=>{a(e)}));document.querySelectorAll('[data-modal-opener="request"]').forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),d.reset(),i.reset(),i.classList.remove("shake"),s(e),setTimeout((()=>{i.querySelector("input").focus()}),300)}))}))}n.d(t,{E:()=>r})},659:(e,t,n)=>{n.d(t,{W:()=>s});const r=250;function s(e,t){const n=e.querySelector(".site-header__menu"),s=e.querySelector(".burger");function a(){s.ariaExpanded="false",s.classList.remove("burger--open"),n.classList.remove("site-header__menu--open"),setTimeout((()=>n.classList.remove("site-header__menu--animated")),r)}s.addEventListener("click",(()=>{"true"===s.ariaExpanded?a():(n.classList.add("site-header__menu--animated"),s.ariaExpanded="true",s.classList.add("burger--open"),n.classList.add("site-header__menu--open"))})),t(n,e,a)}},292:(e,t,n)=>{n.d(t,{K:()=>s});var r=n(40);function s(e){function t(e){return e.value.replace(/\D/g,"")}e.addEventListener("input",(function(e){const n=e.target;let r=t(n),s="";const a=n.selectionStart;r?n.value.length===a?["7","8","9"].includes(r[0])?("9"===r[0]&&(r=`7${r}`),s=("8"===r[0]?"8":"+7")+" ",r.length>1&&(s+=`(${r.substring(1,4)}`),r.length>=5&&(s+=`) ${r.substring(4,7)}`),r.length>=8&&(s+=`-${r.substring(7,9)}`),r.length>=10&&(s+=`-${r.substring(9,11)}`),n.value=s):n.value=`+${r}`.substring(0,16):e.data&&/\D/g.test(e.data)&&(n.value=r):n.value=""})),e.addEventListener("keydown",(function(e){const n=e.target;(0,r.u7)(e)&&1===t(n).length&&(n.value="")})),e.addEventListener("paste",(function(e){const n=e.clipboardData||window.clipboardData,r=e.target,s=t(r);if(n){const e=n.getData("Text");/\D/g.test(e)&&(r.value=s)}}))}},40:(e,t,n)=>{n.d(t,{GW:()=>o,YT:()=>s,u7:()=>a});var r=n(728);function s(e){return e.code===r.A.ESCAPE}function a(e){return e.code===r.A.BACKSPACE}function o(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(712),n(112),n(728),n(104),n(331),n(192),n(912),n(88),n(659),n(292),n(40)})();